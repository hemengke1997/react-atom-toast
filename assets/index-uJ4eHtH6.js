import{R as b,r as x,j as n,T as B,c as Q,C as E,B as j,a as $,b as F,t as K}from"./vendor-Ba3AkNv8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var V=Object.defineProperty,z=Object.defineProperties,G=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,M=(e,t,r)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))J.call(t,r)&&M(e,r,t[r]);if(k)for(var r of k(t))U.call(t,r)&&M(e,r,t[r]);return e},_=(e,t)=>z(e,G(t)),m=(e,t,r)=>M(e,typeof t!="symbol"?t+"":t,r);function W(){return typeof window<"u"&&typeof document<"u"}function X(e,t){const r=c({},e);return t.forEach(i=>delete r[i]),r}var Y=(...e)=>e.filter(Boolean).join(" "),Z=typeof window<"u"?b.useLayoutEffect:b.useEffect,w=Z;function ee(e){const{content:t,className:r,duration:i,onClosed:o,pauseOnHover:s,hover:h,updateFlag:P,transition:d,open:v,onEnter:a,onExit:f,offsetHeight:u}=e,y=x.useMemo(()=>typeof d=="string"?{transition:d}:{transition:d==null?void 0:d.name,duration:d==null?void 0:d.duration,exitDuration:d==null?void 0:d.exitDuration},[d]),p=x.useRef(),O=x.useRef(null),[H,T]=x.useState(!!v);w(()=>{typeof v=="boolean"&&T(!!v)},[v]);const N=()=>{i&&(p.current&&clearTimeout(p.current),p.current=window.setTimeout(()=>{T(!1)},+i))},D=l=>{!s||!H||(l?p.current&&clearTimeout(p.current):N())};w(()=>{D(h)},[h]);const L=()=>{if(!O.current)return;const l=O.current.clientHeight;a(l)},R=()=>{var l;const C=(l=O.current)==null?void 0:l.clientHeight;f(C||0)},S=()=>{o==null||o()},A=(l,C)=>[`translate(-50%, calc(-50% - ${C}px))`,l].filter(Boolean).join(" "),q=l=>[...new Set(["transform",l])].filter(Boolean).join(", ");return w(()=>(N(),()=>{p.current&&clearTimeout(p.current)}),[P]),w(()=>{t||S()},[t]),n.jsx(B,_(c({mounted:H},y),{onEnter:L,onExit:R,onExited:S,initial:!0,children:l=>n.jsx("div",{style:_(c({},l),{transitionProperty:q(l.transitionProperty),transform:A(l.transform,u)}),ref:O,className:Y("toast__content",r),children:t})}))}var te=ee;function re(e){const{toasts:t,queue:r}=e,[i,o]=x.useState(!1),[s,h]=x.useState(new Map),P=(a,f)=>{h(u=>(u.set(a,f),new Map(u)))},d=a=>{h(f=>(f.delete(a),new Map(f)))},v=(a,f)=>{let u=0;for(let y=t.length-1;y>f;y--)u+=(s.get(t[y].key)||0)+t[y].gap;return u};return n.jsx("div",{onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},className:"toast__container",children:t.map((a,f)=>n.jsx(te,c({onEnter:u=>{P(a.key,u)},onExit:()=>{d(a.key)},onClosed:()=>{var u;(u=a.onClosed)==null||u.call(a),r.remove(a.key)},hover:i,offsetHeight:v(a,f)},X(a,["key"])),a.key))})}var ne=re,I="__react_root__";function oe(e,t){const r=t[I]||Q(t);r.render(e),t[I]=r}var se=class{constructor(e){if(m(this,"containerID","react-atom-toast"),m(this,"container",null),m(this,"queue"),this.queue=e,W()){let t=document.getElementById(this.containerID);t||(t=document.createElement("div"),t.id=this.containerID,document.body.appendChild(t)),this.container=t}}render(e){this.container&&oe(n.jsx(ne,{toasts:e,queue:this.queue}),this.container)}},ie=class{constructor(){m(this,"renderer"),m(this,"toasts",[]),this.renderer=new se(this)}render(){this.renderer.render(this.toasts)}add(e){var t;const{maxCount:r,key:i}=e;if(i&&this.toasts.some(s=>s.key===i)){this.update(i,e);return}r&&this.toasts.length>=r&&this.close((t=this.toasts.filter(s=>s.open===!0)[0])==null?void 0:t.key);const o=_(c({},e),{key:e.key||Math.random().toString(36),open:!0});this.toasts.push(o),this.render()}close(e){e&&(this.update(e,{open:!1}),this.render())}closeAll(){this.toasts=this.toasts.map(e=>_(c({},e),{open:!1})),this.render()}remove(e){this.toasts=this.toasts.filter(t=>t.key!==e),this.render()}removeAll(){this.toasts=[],this.render()}update(e,t){const r=this.toasts.findIndex(i=>i.key===e);r!==-1&&(this.toasts[r]=_(c(c({},this.toasts[r]),t),{updateFlag:!this.toasts[r].updateFlag})),this.render()}},ae=class{constructor(){m(this,"defaultOptions",{duration:2e3,pauseOnHover:!0,transition:"fade",maxCount:3,gap:16}),m(this,"toastQueue"),this.toastQueue=new ie}open(e){this.toastQueue.add(c(c({},this.defaultOptions),e))}close(e){this.toastQueue.close(e)}closeAll(){this.toastQueue.closeAll()}update(e,t){this.toastQueue.update(e,c(c({},this.defaultOptions),t))}setDefaultOptions(e){this.defaultOptions=c(c({},this.defaultOptions),e)}},g=new ae;function le(){return n.jsx(E,{title:"修改样式",children:n.jsx(j,{onClick:()=>{g.open({content:`Hello, world! ${Math.random()}`,className:"bg-red-400"})},children:"open"})})}function ce(){const e="closable";return n.jsx(E,{title:"可关闭",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(j,{onClick:()=>{g.open({content:`Hello, world! ${Math.random()}`,duration:0,key:e})},children:"open"}),n.jsx(j,{type:"default",onClick:()=>{g.close(e)},children:"close"})]})})}function ue(){return n.jsx(E,{title:"默认toast",children:n.jsx(j,{onClick:()=>{g.open({content:`Hello, world! ${Math.random()}`})},children:"open"})})}function de(){return n.jsx(E,{title:"单个toast",children:n.jsx(j,{onClick:()=>{g.open({content:`Hello, world! ${Math.random()}`,key:"single",maxCount:1})},children:"open"})})}g.setDefaultOptions({className:"bg-cyan-400 p-2 rounded"});function fe(){return n.jsxs("div",{children:[n.jsx("h1",{className:"m-2 text-3xl font-bold",children:"react-atom-toast"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx(ue,{}),n.jsx(de,{}),n.jsx(le,{}),n.jsx(ce,{})]})]})}$.createRoot(document.querySelector("#root")).render(n.jsx(b.StrictMode,{children:n.jsx(F,{theme:{cssVar:!0,algorithm:[K.darkAlgorithm]},children:n.jsx(fe,{})})}));
